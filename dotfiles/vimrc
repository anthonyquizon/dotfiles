set nocompatible autoindent laststatus=2 relativenumber nu smartcase nopaste nowrap expandtab 
set noswapfile nobackup nowritebackup shiftwidth=2 softtabstop=2 tabstop=2 is
set backspace=indent,eol,start hlsearch path+=** wildmenu undofile undodir=~/.vim/undodir 
let g:netrw_banner = 0 | let mapleader = "\<Space>"
filetype indent plugin on | syntax on | ino jk <esc>
com! Qa qa | com! QA qa | com! Q q|                                                             " typo friendly commands. 'w' commands are separate lines (not |) Parser treats | as filename
com! WQ wq
com! Wq wq
com! W w
vm < <gv | vm > >gv|                                                                            " visual mode indenting
vn <leader>s "vy :%s/<C-R>v//g<Left><Left>|                                                     " search visual
vn <leader>S "vy :%s//<C-R>v/g<C-b><Right><Right><Right>|                                       " search visual
nn <leader>s :%sno/<C-R><C-W>//g<Left><Left>|                                                   " search
nn <leader>S :%sno//<C-R><C-W>/g<C-b><Right><Right><Right><Right><Right>|                       " search 
nn <leader>z :noh<CR>                                                                           " search  highlight
nn <leader>0 :set scroll=0<CR>                                                                  " scroll reset
nn  <C-j> :m .+1<CR>==| nn <C-k> :m .-2<CR>==|                                                   " shuffle line one up or down Normal mode
ino <C-j> <Esc>:m .+1<CR>==gi| ino <C-k> <Esc>:m .-2<CR>==gi|                                   " shuffle line one up or down Insert mode
vn  <C-j> :m '>+1<CR>gv=gv| vn <C-k> :m '<-2<CR>gv=gv|                                           " shuffle line one up or down Visual mode

function! Fzy(cmd, act)
  try | let o = system(a:cmd . " | fzy ") | catch /Vim:Interrupt/ | endtry| " Swallow errors from ^C, allow redraw! below
  redraw!
  if v:shell_error == 0 && !empty(o) | exec a:act . ' ' . split(split(o, '\n')[0], ':')[0] | endif
endf
nn <leader><leader> :call Fzy("rg . -l", ":e")<cr>
nn <leader>/ :call Fzy("rg .", ":e")<cr>

function! Comment(type, ...)
  let ms=split(substitute(substitute(&cms,'\S\zs%s',' %s',''),'%s\ze\S','%s ',''),'%s',1)
  let lhs=escape(substitute(ms[0],' ','',''),'*')|let rhs=escape(substitute(ms[1],' ','',''),'*')
  let r = a:0 ? "'<,'>" : "'[,']"
  if match(getline('.'), lhs) == 0
    exe "norm! :".r."s]^".lhs."]\<CR>`".(a:0?'<':'[') | exe "norm! :".r."s]".rhs."$]]\<CR>`".(a:0?'<':'[')
  else
    exe "norm! :".r."s]^]".lhs."\<CR>`".(a:0?'<':'[') | exe "norm! :".r."s]$]".rhs."\<CR>`".(a:0?'<':'[')
  endif
endf
no <leader>; :<C-u>set opfunc=Comment<bar>execute "norm! " . v:count1 . "g@_"<CR>
xn <leader>; :<C-u>call Comment(visualmode(), 1)<CR>

" BQN
scripte utf-8 
imap\` Ëœ| imap \1 Ë˜| imap\2 Â¨| imap\3 â¼| imap\4 âŒœ| imap\5 Â´| imap\6 Ë| imap\7 7| imap\8 âˆ| imap\9 Â¯| imap\0 â€¢| imap\- Ã·| imap\= Ã—| imap\~ Â¬| imap\! â‰| imap\@ âš‡| imap\# âŸ| imap\$ â—¶| imap\% âŠ˜| imap\^ âŠ| imap\& â| imap\* â•| imap\( âŸ¨| imap\) âŸ©| imap\_ âˆš| imap\+ â‹†| imap\q âŒ½| imap\w ğ•¨| imap\e âˆŠ| imap\r â†‘| imap\t âˆ§| imap\y y| imap\u âŠ”| imap\i âŠ| imap\o âŠ| imap\p Ï€| imap\[ â†| imap\] â†’| imap\Q â†™| imap\W ğ•| imap\E â·| imap\R ğ•£| imap\T â‹| imap\Y Y| imap\U U| imap\I âŠ‘| imap\O âŠ’| imap\P â³| imap\{ âŠ£| imap\} âŠ¢| imap\a â‰| imap\s ğ•¤| imap\d â†•| imap\f ğ•—| imap\g ğ•˜| imap\h âŠ¸| imap\j âˆ˜| imap\k â—‹| imap\l âŸœ| imap\; â‹„| imap\' â†©| imap\\ \| imap\A â†–| imap\S ğ•Š| imap\D D| imap\F ğ”½| imap\G ğ”¾| imap\H Â«| imap\J J| imap\K âŒ¾| imap\L Â»| imap\: Â·| imap\" Ë™| imap\\| \|| imap\z â¥Š| imap\x ğ•©| imap\c â†“| imap\v âˆ¨| imap\b âŒŠ| imap\n n| imap\m â‰¡| imap\, âˆ¾| imap\. â‰| imap\/ â‰ 
imap\Z â‹ˆ| imap\X ğ•| imap\C C| imap\V â’| imap\B âŒˆ| imap\N N| imap\M â‰¢| imap\< â‰¤| imap\> â‰¥| imap\? â‡| imap\<space> â€¿| imap\` Ëœ| imap\1 Ë˜| imap\2 Â¨| imap\3 â¼| imap\4 âŒœ| imap\5 Â´| imap\6 Ë| imap\7 7| imap\8 âˆ| imap\9 Â¯| imap\0 â€¢| imap\- Ã·| imap\= Ã—| imap\~ Â¬| imap\! â‰| imap\@ âš‡| imap\# âŸ| imap\$ â—¶| imap\% âŠ˜| imap\^ âŠ| imap\& â| imap\* â•| imap\( âŸ¨| imap\) âŸ©| imap\_ âˆš| imap\+ â‹†| imap\q âŒ½| imap\w ğ•¨| imap\e âˆŠ| imap\r â†‘| imap\t âˆ§| imap\y y| imap\u âŠ”| imap\i âŠ| imap\o âŠ| imap\p Ï€| imap\[ â†| imap\] â†’| imap\Q â†™| imap\W ğ•| imap\E â·| imap\R ğ•£| imap\T â‹| imap\Y Y| imap\U U| imap\I âŠ‘| imap\O âŠ’| imap\P â³| imap\{ âŠ£| imap\} âŠ¢| imap\a â‰| imap\s ğ•¤| imap\d â†•| imap\f ğ•—| imap\g ğ•˜| imap\h âŠ¸| imap\j âˆ˜| imap\k â—‹| imap\l âŸœ| imap\; â‹„| imap\' â†©| imap\\ \| imap\A â†–| imap\S ğ•Š| imap\D D| imap\F ğ”½| imap\G ğ”¾| imap\H Â«| imap\J J| imap\K âŒ¾| imap\L Â»| imap\: Â·| imap\" Ë™
imap\\| \|| imap\z â¥Š| imap\x ğ•©| imap\c â†“| imap\v âˆ¨| imap\b âŒŠ| imap\n n| imap\m â‰¡| imap\, âˆ¾| imap\. â‰| imap\/ â‰ | imap\Z â‹ˆ| imap\X ğ•| imap\C C| imap\V â’| imap\B âŒˆ| imap\N N| imap\M â‰¢| imap\< â‰¤| imap\> â‰¥| imap\? â‡| imap\<space> â€¿
cmap\` Ëœ| cmap \1 Ë˜| cmap\2 Â¨| cmap\3 â¼| cmap\4 âŒœ| cmap\5 Â´| cmap\6 Ë| cmap\7 7| cmap\8 âˆ| cmap\9 Â¯| cmap\0 â€¢| cmap\- Ã·| cmap\= Ã—| cmap\~ Â¬| cmap\! â‰| cmap\@ âš‡| cmap\# âŸ| cmap\$ â—¶| cmap\% âŠ˜| cmap\^ âŠ| cmap\& â| cmap\* â•| cmap\( âŸ¨| cmap\) âŸ©| cmap\_ âˆš| cmap\+ â‹†| cmap\q âŒ½| cmap\w ğ•¨| cmap\e âˆŠ| cmap\r â†‘| cmap\t âˆ§| cmap\y y| cmap\u âŠ”| cmap\i âŠ| cmap\o âŠ| cmap\p Ï€| cmap\[ â†| cmap\] â†’| cmap\Q â†™| cmap\W ğ•| cmap\E â·| cmap\R ğ•£| cmap\T â‹| cmap\Y Y| cmap\U U| cmap\I âŠ‘| cmap\O âŠ’| cmap\P â³| cmap\{ âŠ£| cmap\} âŠ¢| cmap\a â‰| cmap\s ğ•¤| cmap\d â†•| cmap\f ğ•—| cmap\g ğ•˜| cmap\h âŠ¸| cmap\j âˆ˜| cmap\k â—‹| cmap\l âŸœ| cmap\; â‹„| cmap\' â†©| cmap\\ \| cmap\A â†–| cmap\S ğ•Š| cmap\D D| cmap\F ğ”½| cmap\G ğ”¾| cmap\H Â«| cmap\J J| cmap\K âŒ¾| cmap\L Â»| cmap\: Â·| cmap\" Ë™| cmap\\| \|| cmap\z â¥Š| cmap\x ğ•©| cmap\c â†“| cmap\v âˆ¨| cmap\b âŒŠ| cmap\n n| cmap\m â‰¡| cmap\, âˆ¾| cmap\. â‰| cmap\/ â‰ 
cmap\Z â‹ˆ| cmap\X ğ•| cmap\C C| cmap\V â’| cmap\B âŒˆ| cmap\N N| cmap\M â‰¢| cmap\< â‰¤| cmap\> â‰¥| cmap\? â‡| cmap\<space> â€¿| cmap\` Ëœ| cmap\1 Ë˜| cmap\2 Â¨| cmap\3 â¼| cmap\4 âŒœ| cmap\5 Â´| cmap\6 Ë| cmap\7 7| cmap\8 âˆ| cmap\9 Â¯| cmap\0 â€¢| cmap\- Ã·| cmap\= Ã—| cmap\~ Â¬| cmap\! â‰| cmap\@ âš‡| cmap\# âŸ| cmap\$ â—¶| cmap\% âŠ˜| cmap\^ âŠ| cmap\& â| cmap\* â•| cmap\( âŸ¨| cmap\) âŸ©| cmap\_ âˆš| cmap\+ â‹†| cmap\q âŒ½| cmap\w ğ•¨| cmap\e âˆŠ| cmap\r â†‘| cmap\t âˆ§| cmap\y y| cmap\u âŠ”| cmap\i âŠ| cmap\o âŠ| cmap\p Ï€| cmap\[ â†| cmap\] â†’| cmap\Q â†™| cmap\W ğ•| cmap\E â·| cmap\R ğ•£| cmap\T â‹| cmap\Y Y| cmap\U U| cmap\I âŠ‘| cmap\O âŠ’| cmap\P â³| cmap\{ âŠ£| cmap\} âŠ¢| cmap\a â‰| cmap\s ğ•¤| cmap\d â†•| cmap\f ğ•—| cmap\g ğ•˜| cmap\h âŠ¸| cmap\j âˆ˜| cmap\k â—‹| cmap\l âŸœ| cmap\; â‹„| cmap\' â†©| cmap\\ \| cmap\A â†–| cmap\S ğ•Š| cmap\D D| cmap\F ğ”½| cmap\G ğ”¾| cmap\H Â«| cmap\J J| cmap\K âŒ¾| cmap\L Â»| cmap\: Â·| cmap\" Ë™
cmap\\| \|| cmap\z â¥Š| cmap\x ğ•©| cmap\c â†“| cmap\v âˆ¨| cmap\b âŒŠ| cmap\n n| cmap\m â‰¡| cmap\, âˆ¾| cmap\. â‰| cmap\/ â‰ | cmap\Z â‹ˆ| cmap\X ğ•| cmap\C C| cmap\V â’| cmap\B âŒˆ| cmap\N N| cmap\M â‰¢| cmap\< â‰¤| cmap\> â‰¥| cmap\? â‡| cmap\<space> â€¿
au BufRead,BufNewFile * if getline(1) =~ '^#!.*bqn$' | setf bqn | endif
au BufRead,BufNewFile *.bqn setlocal commentstring=#%s
au BufRead,BufNewFile *.bqn setf bqn
au BufRead,BufNewFile *.bqn syn match bqncom "#.*$"
au BufRead,BufNewFile *.bqn hi link bqncom comment

