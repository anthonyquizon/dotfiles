export EDITOR=vim
export LANG=en_AU.UTF-8
export OSH=$HOME/.oh-my-bash
#====== GUIX ======
export GUIX_LOCPATH="$HOME/.guix-profile/lib/locale"
export GUIX_PATH="$HOME/.config/guix/current/bin"
export GUIX_PROFILE="$HOME/.guix-profile"
source "$GUIX_PROFILE/etc/profile"

export SSL_CERT_DIR="$HOME/.guix-profile/etc/ssl/certs"
export SSL_CERT_FILE="$HOME/.guix-profile/etc/ssl/certs/ca-certificates.crt"
export CURL_CA_BUNDLE="$HOME/.guix-profile/etc/ssl/certs/ca-certificates.crt"
export GIT_SSL_CAINFO="$SSL_CERT_FILE"

export CARGO_HTTP_CAINFO="$SSL_CERT_FILE" #TODO contribute to guix rust:cargo package

export VENDOR_PATH="$HOME/vendor/bin"


export PATH="$GUIX_PATH:$VENDOR_PATH:$PATH"

alias guile="rlwrap guile"

if [ -n "$GUIX_ENVIRONMENT" ]
then
    export PS1="\u@\h \w [dev]\$ "
fi

ENABLE_CORRECTION="true"
COMPLETION_WAITING_DOTS="true"
OSH_THEME="font"

completions=(
  git
)

aliases=(
  general
)

plugins=(
  git
  bashmarks
)

source $OSH/oh-my-bash.sh

if [ -z "$GUIX_ENVIRONMENT" ]; then
  [[ $TERM != "screen" ]] && exec tmux -u attach -d
fi

if [ "$TERM" = "screen" ]; then
    export TERM=xterm-256color
fi
